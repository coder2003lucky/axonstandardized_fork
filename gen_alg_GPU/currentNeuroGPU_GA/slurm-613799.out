got stim num 2
/global/cscratch1/sd/roybens/neuroGPU/pyNeuroGPU_unix10000v2/python 
Length: 67
got stim num 7
/global/cscratch1/sd/roybens/neuroGPU/pyNeuroGPU_unix10000v2/python 
Length: 67
got stim num 0
/global/cscratch1/sd/roybens/neuroGPU/pyNeuroGPU_unix10000v2/python 
Length: 67
got stim num 4
/global/cscratch1/sd/roybens/neuroGPU/pyNeuroGPU_unix10000v2/python 
Length: 67
got stim num 5
/global/cscratch1/sd/roybens/neuroGPU/pyNeuroGPU_unix10000v2/python 
Length: 67
got stim num 1
/global/cscratch1/sd/roybens/neuroGPU/pyNeuroGPU_unix10000v2/python 
Length: 67
got stim num 3
/global/cscratch1/sd/roybens/neuroGPU/pyNeuroGPU_unix10000v2/python 
Length: 67
got stim num 6
/global/cscratch1/sd/roybens/neuroGPU/pyNeuroGPU_unix10000v2/python 
Length: 67
Start reading file - ReadSimData()
Start reading file - ReadSimData()
Start reading file - ReadSimData()
Start reading file - ReadSimData()
Start reading file - ReadSimData()
Start reading file - ReadSimData()
Start reading file - ReadSimData()
Start reading file - ReadSimData()
ReadCSVStim 
ReadCSVStim 
ReadCSVStim 
ReadCSVStim 
ReadCSVStim 
ReadCSVStim 
ReadCSVStim 
ReadCSVStim 
 ntempnsets241
 ntempnsets241
 ntempnsets241
 ntempnsets241
 ntempnsets241
 ntempnsets241
 ntempnsets241
 ntempnsets241
reading file ../Data/BasicConst
in stefork
calling initframework p2pCapableGPUs[i] is 1
reading file ../Data/BasicConst
in stefork
calling initframework p2pCapableGPUs[i] is 0
reading file ../Data/BasicConst
in stefork
reading file ../Data/BasicConst
calling initframework p2pCapableGPUs[i] is 7
in stefork
calling initframework p2pCapableGPUs[i] is 2
reading file ../Data/BasicConst
in stefork
calling initframework p2pCapableGPUs[i] is 4
reading file ../Data/BasicConst
in stefork
calling initframework p2pCapableGPUs[i] is 6
reading file ../Data/BasicConst
in stefork
calling initframework p2pCapableGPUs[i] is 3
reading file ../Data/BasicConst
in stefork
calling initframework p2pCapableGPUs[i] is 5
done initframework dev0 curr Kernel is 7928
calling kernel dev1
done initframework dev0 curr Kernel is 7928
calling kernel dev0
done initframework dev0 curr Kernel is 7928
calling kernel dev7
done initframework dev0 curr Kernel is 7928
calling kernel dev2
done initframework dev0 curr Kernel is 7928
calling kernel dev4
done initframework dev0 curr Kernel is 7928
calling kernel dev6
done initframework dev0 curr Kernel is 7928
calling kernel dev3
done initframework dev0 curr Kernel is 7928
calling kernel dev5
in mallocing loop
******
in mallocing loop
******
in mallocing loop
******
in mallocing loop
******
in mallocing loop
******
in mallocing loop
******
in mallocing loop
******
in mallocing loop
******
kernel not ran yet
kernel not ran yet
kernel not ran yet
kernel not ran yet
kernel not ran yet
kernel not ran yet
kernel not ran yet
kernel ran before memcpyasync currkernel run is 7928
done copying*&*&*&*&*&*&*
out of the loop
kernel not ran yet
kernel ran before memcpyasync currkernel run is 7928
done copying*&*&*&*&*&*&*
out of the loop
kernel ran before memcpyasync currkernel run is 7928
done copying*&*&*&*&*&*&*
out of the loop
kernel ran before memcpyasync currkernel run is 7928
done copying*&*&*&*&*&*&*
out of the loop
kernel ran before memcpyasync currkernel run is 7928
done copying*&*&*&*&*&*&*
out of the loop
kernel ran before memcpyasync currkernel run is 7928
done copying*&*&*&*&*&*&*
out of the loop
kernel ran before memcpyasync currkernel run is 7928
done copying*&*&*&*&*&*&*
out of the loop
kernel ran before memcpyasync currkernel run is 7928
done copying*&*&*&*&*&*&*
out of the loop
done synch3
it took 63050.750000 ms

printing ../Data/VHotP3.dat size is 39640000
done synch6
it took 63167.726562 ms

printing ../Data/VHotP6.dat size is 39640000
done synch7
it took 63299.773438 ms

printing ../Data/VHotP7.dat size is 39640000
done synch2
done synch4
it took 63403.628906 ms
it took 63407.660156 ms

printing ../Data/VHotP2.dat size is 39640000

printing ../Data/VHotP4.dat size is 39640000
done synch5
done synch0
done synch1
it took 63549.023438 ms

printing ../Data/VHotP5.dat size is 39640000
it took 63580.332031 ms

printing ../Data/VHotP0.dat size is 39640000
it took 63600.382812 ms

printing ../Data/VHotP1.dat size is 39640000
*****
Init evaluator
7888
running stim #
running stim ind0
running stim ind1
running stim ind2
running stim ind3
running stim ind4
running stim ind5
running stim ind6
running stim ind7
TIME 1:  -69.20259666442871
evaling stim: 0
module name: neurogpu_multistim_evaluator_par
parent process: 71307
process id: 73256
evaling stim: 1
module name: neurogpu_multistim_evaluator_par
parent process: 71307
process id: 73257
evaling stim: 2
module name: neurogpu_multistim_evaluator_par
parent process: 71307
process id: 73258
evaling stim: 3
module name: neurogpu_multistim_evaluator_par
parent process: 71307
process id: 73259
evaling stim: 4
module name: neurogpu_multistim_evaluator_par
parent process: 71307
process id: 73260
evaling stim: 5
module name: neurogpu_multistim_evaluator_par
parent process: 71307
process id: 73261
evaling stim: 6
module name: neurogpu_multistim_evaluator_par
parent process: 71307
process id: 73262
multiprocessing.pool.RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/usr/common/software/tensorflow/gpu-tensorflow/2.0.0-py37/lib/python3.7/multiprocessing/pool.py", line 121, in worker
    result = (True, func(*args, **kwds))
  File "/usr/common/software/tensorflow/gpu-tensorflow/2.0.0-py37/lib/python3.7/multiprocessing/pool.py", line 44, in mapstar
    return list(map(*args))
  File "/global/cscratch1/sd/roybens/neuroGPU/pyNeuroGPU_unix10000v2/python/neurogpu_multistim_evaluator_par.py", line 199, in eval_stim_parallel
    shaped_volts = np.reshape(curr_volts, [nindv, Nt])
  File "<__array_function__ internals>", line 6, in reshape
  File "/usr/common/software/tensorflow/gpu-tensorflow/2.0.0-py37/lib/python3.7/site-packages/numpy/core/fromnumeric.py", line 301, in reshape
    return _wrapfunc(a, 'reshape', newshape, order=order)
  File "/usr/common/software/tensorflow/gpu-tensorflow/2.0.0-py37/lib/python3.7/site-packages/numpy/core/fromnumeric.py", line 61, in _wrapfunc
    return bound(*args, **kwds)
ValueError: cannot reshape array of size 39640000 into shape (7888,5025)
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "optimize_parameters_genetic_alg_SG.py", line 74, in <module>
    main()
  File "optimize_parameters_genetic_alg_SG.py", line 53, in main
    pop, hof, log, hst = opt.run(max_ngen=5000, cp_filename=cp_file, cp_frequency=1,continue_cp=True)
  File "/global/homes/r/roybens/.local/cori/gpu-tensorflow2.0.0-py37/lib/python3.7/site-packages/bluepyopt/deapext/optimisations.py", line 291, in run
    cp_filename=cp_filename)
  File "/global/homes/r/roybens/.local/cori/gpu-tensorflow2.0.0-py37/lib/python3.7/site-packages/bluepyopt/deapext/algorithms.py", line 129, in eaAlphaMuPlusLambdaCheckpoint
    invalid_count = _evaluate_invalid_fitness(toolbox, offspring)
  File "/global/cscratch1/sd/roybens/neuroGPU/pyNeuroGPU_unix10000v2/python/neurogpu_multistim_evaluator_par.py", line 162, in my_evaluate_invalid_fitness
    fitnesses = toolbox.evaluate(invalid_ind)
  File "/global/cscratch1/sd/roybens/neuroGPU/pyNeuroGPU_unix10000v2/python/neurogpu_multistim_evaluator_par.py", line 279, in evaluate_with_lists
    flattened_scores = p.map(self.eval_stim_parallel, np.arange(nstims))
  File "/usr/common/software/tensorflow/gpu-tensorflow/2.0.0-py37/lib/python3.7/multiprocessing/pool.py", line 268, in map
    return self._map_async(func, iterable, mapstar, chunksize).get()
  File "/usr/common/software/tensorflow/gpu-tensorflow/2.0.0-py37/lib/python3.7/multiprocessing/pool.py", line 657, in get
    raise self._value
ValueError: cannot reshape array of size 39640000 into shape (7888,5025)
srun: error: cgpu16: task 0: Exited with exit code 1
srun: Terminating job step 613799.0
